<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Hadron.Controller</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Hadron-Controller.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Hadron-Controller.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hadron-0.5: Use Haskell to create Hadoop MapReduce programs</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>Soostone Inc</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Ozgun Ataman</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hadron.Controller</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Hadoop Program Construction</a></li><li><a href="#g:2">Data Sources</a></li><li><a href="#g:3">Command Line Entry Point</a></li><li><a href="#g:4">Settings for MapReduce Jobs</a></li><li><a href="#g:5">Hadoop Utilities</a></li><li><a href="#g:6">MapReduce Combinators</a></li><li><a href="#g:7">Data Serialization Utilities</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>High level flow-control of Hadoop programs with ability to define a
 sequence of Map-Reduce operations in a Monad, have strongly typed
 data locations.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Controller">Controller</a> a</li><li class="src short"><a href="#v:connect">connect</a> :: <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b -&gt; [<a href="Hadron-Controller.html#t:Tap">Tap</a> a] -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> b -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> ()</li><li class="src short"><a href="#v:connect-39-">connect'</a> :: <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b -&gt; [<a href="Hadron-Controller.html#t:Tap">Tap</a> a] -&gt; <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> b -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> b)</li><li class="src short"><a href="#v:io">io</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> a</li><li class="src short"><a href="#v:orchIO">orchIO</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> ()</li><li class="src short"><a href="#v:nodeIO">nodeIO</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> a</li><li class="src short"><a href="#v:setVal">setVal</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> ()</li><li class="src short"><a href="#v:getVal">getVal</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:runOnce">runOnce</a> :: <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:MapReduce">MapReduce</a> a b = <span class="keyword">forall</span> k v . <a href="Hadron-Controller.html#t:MRKey">MRKey</a> k =&gt; <a href="#v:MapReduce">MapReduce</a> {<ul class="subs"><li><a href="#v:_mrOptions">_mrOptions</a> :: <a href="Hadron-Controller.html#t:MROptions">MROptions</a></li><li><a href="#v:_mrInPrism">_mrInPrism</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> v</li><li><a href="#v:_mrMapper">_mrMapper</a> :: <a href="Hadron-Controller.html#t:Mapper">Mapper</a> a k v</li><li><a href="#v:_mrCombiner">_mrCombiner</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Hadron-Controller.html#t:Reducer">Reducer</a> k v (k, v))</li><li><a href="#v:_mrReducer">_mrReducer</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> (<a href="Hadron-Controller.html#t:Reducer">Reducer</a> k v b) (<a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> v (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) b)</li></ul>}</li><li class="src short"><a href="#v:mrOptions">mrOptions</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b) <a href="Hadron-Controller.html#t:MROptions">MROptions</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Mapper">Mapper</a> a k b = <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> a (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) (k, b)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Reducer">Reducer</a> k a r = <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> (k, a) (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) r</li><li class="src short"><a href="#v:-62-.-62-">(&gt;.&gt;)</a> :: <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b -&gt; <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> b (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) c -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a c</li><li class="src short"><a href="#v:-60-.-60-">(&lt;.&lt;)</a> :: <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> c (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) a -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> c b</li><li class="src short"><span class="keyword">class</span> <a href="#t:MRKey">MRKey</a> k <span class="keyword">where</span><ul class="subs"><li><a href="#v:toCompKey">toCompKey</a> :: k -&gt; <a href="Hadron-Controller.html#t:CompositeKey">CompositeKey</a></li><li><a href="#v:keyParser">keyParser</a> :: Parser k</li><li><a href="#v:numKeys">numKeys</a> :: k -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:CompositeKey">CompositeKey</a> = [<a href="Hadron-Types.html#t:Key">Key</a>]</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:SingleKey">SingleKey</a> a = <a href="#v:SingleKey">SingleKey</a> {<ul class="subs"><li><a href="#v:unKey">unKey</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WrapSerialize">WrapSerialize</a> a = <a href="#v:WrapSerialize">WrapSerialize</a> {<ul class="subs"><li><a href="#v:_getSerialized">_getSerialized</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WrapSafeCopy">WrapSafeCopy</a> a = <a href="#v:WrapSafeCopy">WrapSafeCopy</a> {<ul class="subs"><li><a href="#v:_getSafeCopy">_getSafeCopy</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Tap">Tap</a> a = <a href="#v:Tap">Tap</a> {<ul class="subs"><li><a href="#v:_tapLocation">_tapLocation</a> :: [<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li><a href="#v:_tapProto">_tapProto</a> :: <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a</li></ul>}</li><li class="src short"><a href="#v:tapProto">tapProto</a> :: <span class="keyword">forall</span> a a. <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens">Lens</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> a) (<a href="Hadron-Controller.html#t:Tap">Tap</a> a) (<a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a) (<a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a)</li><li class="src short"><a href="#v:tapLocation">tapLocation</a> :: <span class="keyword">forall</span> a. <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> a) [<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>]</li><li class="src short"><a href="#v:tap">tap</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a</li><li class="src short"><a href="#v:taps">taps</a> :: [<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>] -&gt; <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a</li><li class="src short"><a href="#v:mergeTaps">mergeTaps</a> :: <a href="Hadron-Controller.html#t:Tap">Tap</a> a -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> b -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> a b)</li><li class="src short"><a href="#v:concatTaps">concatTaps</a> :: [<a href="Hadron-Controller.html#t:Tap">Tap</a> a] -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a</li><li class="src short"><a href="#v:binaryDirTap">binaryDirTap</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>))</li><li class="src short"><a href="#v:setupBinaryDir">setupBinaryDir</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Hadron-Run-Local.html#t:LocalFile">LocalFile</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>)</li><li class="src short"><a href="#v:fileListTap">fileListTap</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:fanOutTap">fanOutTap</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; (a -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>) -&gt; <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> a (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Hadron-Run-FanOut.html#t:FanOutSink">FanOutSink</a> -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a</li><li class="src short"><a href="#v:sinkFanOut">sinkFanOut</a> :: <a href="Hadron-Run-FanOut.html#t:FanOutSink">FanOutSink</a></li><li class="src short"><a href="#v:sequentialSinkFanout">sequentialSinkFanout</a> :: <a href="Hadron-Run-FanOut.html#t:FanOutSink">FanOutSink</a></li><li class="src short"><a href="#v:readTap">readTap</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> [a]</li><li class="src short"><a href="#v:readHdfsFile">readHdfsFile</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:hadoopMain">hadoopMain</a> :: (<a href="file:///nix/store/xvn9284xvfz90d1ak0g649hn8qs3wrhp-exceptions-0.8.0.2/share/doc/x86_64-osx-ghc-7.10.2/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="file:///nix/store/xvn9284xvfz90d1ak0g649hn8qs3wrhp-exceptions-0.8.0.2/share/doc/x86_64-osx-ghc-7.10.2/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> m, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m) =&gt; [(AppLabel, <a href="Hadron-Controller.html#t:Controller">Controller</a> ())] -&gt; <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="Hadron-Controller.html#t:RerunStrategy">RerunStrategy</a> -&gt; m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:HadoopEnv">HadoopEnv</a> = <a href="#v:HadoopEnv">HadoopEnv</a> {<ul class="subs"><li><a href="#v:_hsBin">_hsBin</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a></li><li><a href="#v:_hsJar">_hsJar</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:MROptions">MROptions</a></li><li class="src short"><a href="#v:mroPart">mroPart</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> <a href="Hadron-Controller.html#t:PartitionStrategy">PartitionStrategy</a></li><li class="src short"><a href="#v:mroNumMap">mroNumMap</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:mroNumReduce">mroNumReduce</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:mroCompress">mroCompress</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:mroOutSep">mroOutSep</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Char.html#t:Char">Char</a>)</li><li class="src short"><a href="#v:mroTaskTimeout">mroTaskTimeout</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><span class="keyword">data</span> <a href="#t:PartitionStrategy">PartitionStrategy</a><ul class="subs"><li>= <a href="#v:NoPartition">NoPartition</a></li><li>| <a href="#v:Partition">Partition</a> { <ul class="subs"><li><a href="#v:keySegs">keySegs</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:partSegs">partSegs</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a></li></ul> }</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Comparator">Comparator</a><ul class="subs"><li>= <a href="#v:RegularComp">RegularComp</a></li><li>| <a href="#v:NumericComp">NumericComp</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:RerunStrategy">RerunStrategy</a><ul class="subs"><li>= <a href="#v:RSFail">RSFail</a></li><li>| <a href="#v:RSReRun">RSReRun</a></li><li>| <a href="#v:RSSkip">RSSkip</a></li></ul></li><li class="src short"><a href="#v:emitCounter">emitCounter</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:hsEmitCounter">hsEmitCounter</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:emitStatus">emitStatus</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:getFileName">getFileName</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a></li><li class="src short"><a href="#v:mapReduce">mapReduce</a> :: t</li><li class="src short"><a href="#v:firstBy">firstBy</a> :: t</li><li class="src short"><a href="#v:mapMR">mapMR</a> :: t</li><li class="src short"><a href="#v:oneSnap">oneSnap</a> :: t</li><li class="src short"><a href="#v:joinMR">joinMR</a> :: <span class="keyword">forall</span> a b k v. (<a href="Hadron-Controller.html#t:MRKey">MRKey</a> k, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a> v, <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> v) =&gt; <a href="Hadron-Controller.html#t:Mapper">Mapper</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> a b) k (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> v v) -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> a b) v</li><li class="src short"><a href="#v:joinStep">joinStep</a> :: <span class="keyword">forall</span> k b a. (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> b, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a> b, <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> k) =&gt; [(<a href="Hadron-Controller.html#t:Tap">Tap</a> a, <a href="Hadron-Controller.html#t:JoinType">JoinType</a>, <a href="Hadron-Controller.html#t:Mapper">Mapper</a> a k b)] -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b</li><li class="src short"><span class="keyword">data</span> <a href="#t:JoinType">JoinType</a><ul class="subs"><li>= <a href="#v:JRequired">JRequired</a></li><li>| <a href="#v:JOptional">JOptional</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:JoinKey">JoinKey</a> = <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short">module <a href="Hadron-Protocol.html">Hadron.Protocol</a></li><li class="src short">module <a href="Hadron-Run.html">Hadron.Run</a></li></ul></div><div id="interface"><h1 id="g:1">Hadoop Program Construction</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Controller" class="def">Controller</a> a <a href="src/Hadron-Controller.html#Controller" class="link">Source</a></p><div class="doc"><p>All MapReduce steps are integrated in the <code><a href="Hadron-Controller.html#t:Controller">Controller</a></code> monad.</p><p>Warning: We do have an <code><a href="Hadron-Controller.html#v:io">io</a></code> combinator as an escape valve for you
 to use. However, you need to be careful how you use the result of
 an IO computation. Remember that the same <code>main</code> function will run
 on both the main orchestrator process and on each and every
 map/reduce node.</p></div><div class="subs instances"><p id="control.i:Controller" class="caption collapser" onclick="toggleSection('i:Controller')">Instances</p><div id="section.i:Controller" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Control-Monad.html#t:Monad">Monad</a> <a href="Hadron-Controller.html#t:Controller">Controller</a></span> <a href="src/Hadron-Controller.html#line-644" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> <a href="Hadron-Controller.html#t:Controller">Controller</a></span> <a href="src/Hadron-Controller.html#line-644" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Hadron-Controller.html#t:Controller">Controller</a></span> <a href="src/Hadron-Controller.html#line-644" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:connect" class="def">connect</a> :: <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b -&gt; [<a href="Hadron-Controller.html#t:Tap">Tap</a> a] -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> b -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> () <a href="src/Hadron-Controller.html#connect" class="link">Source</a></p><div class="doc"><p>Connect a typed MapReduce program you supply with a list of
 sources and a destination.</p></div></div><div class="top"><p class="src"><a name="v:connect-39-" class="def">connect'</a> <a href="src/Hadron-Controller.html#connect%27" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b</td><td class="doc"><p>MapReduce step to run</p></td></tr><tr><td class="src">-&gt; [<a href="Hadron-Controller.html#t:Tap">Tap</a> a]</td><td class="doc"><p>Input files</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> b</td><td class="doc"><p>Serialization protocol to be used on the output</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>A custom name for the job</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Connect a MapReduce program to a set of inputs, returning the
 output tap that was implicity generated (on hdfs) in the process.</p></div></div><div class="top"><p class="src"><a name="v:io" class="def">io</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> a <a href="src/Hadron-Controller.html#io" class="link">Source</a></p><div class="doc"><p>Perform an IO operation both on the orchestrator and on the worker nodes.</p></div></div><div class="top"><p class="src"><a name="v:orchIO" class="def">orchIO</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> () <a href="src/Hadron-Controller.html#orchIO" class="link">Source</a></p><div class="doc"><p>Perform an IO operation only on the orchestrator</p></div></div><div class="top"><p class="src"><a name="v:nodeIO" class="def">nodeIO</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> a <a href="src/Hadron-Controller.html#nodeIO" class="link">Source</a></p><div class="doc"><p>Perform an IO operation only on the worker nodes.</p></div></div><div class="top"><p class="src"><a name="v:setVal" class="def">setVal</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> () <a href="src/Hadron-Controller.html#setVal" class="link">Source</a></p><div class="doc"><p>Set a persistent variable in Controller state. This variable will
 be set during main M-R job controller loop and communicated to all
 the map and reduce nodes and will be available there.</p></div></div><div class="top"><p class="src"><a name="v:getVal" class="def">getVal</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>) <a href="src/Hadron-Controller.html#getVal" class="link">Source</a></p><div class="doc"><p>Get varible from Controller state</p></div></div><div class="top"><p class="src"><a name="v:runOnce" class="def">runOnce</a> :: <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> a -&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> a <a href="src/Hadron-Controller.html#runOnce" class="link">Source</a></p><div class="doc"><p>Perform an IO action in orchestrator to obtain value, then cache it on HDFS and
 magically make it available to nodes during their runtime.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:MapReduce" class="def">MapReduce</a> a b <a href="src/Hadron-Controller.html#MapReduce" class="link">Source</a></p><div class="doc"><p>A packaged MapReduce step. Make one of these for each distinct
 map-reduce step in your overall <code><a href="Hadron-Controller.html#t:Controller">Controller</a></code> flow.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><span class="keyword">forall</span> k v . <a href="Hadron-Controller.html#t:MRKey">MRKey</a> k =&gt; <a name="v:MapReduce" class="def">MapReduce</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_mrOptions" class="def">_mrOptions</a> :: <a href="Hadron-Controller.html#t:MROptions">MROptions</a></dt><dd class="doc"><p>Hadoop and MapReduce options affecting only this specific
 job.</p></dd><dt class="src"><a name="v:_mrInPrism" class="def">_mrInPrism</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> v</dt><dd class="doc"><p>A serialization scheme for values between the map-reduce
 steps.</p></dd><dt class="src"><a name="v:_mrMapper" class="def">_mrMapper</a> :: <a href="Hadron-Controller.html#t:Mapper">Mapper</a> a k v</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_mrCombiner" class="def">_mrCombiner</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Hadron-Controller.html#t:Reducer">Reducer</a> k v (k, v))</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_mrReducer" class="def">_mrReducer</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> (<a href="Hadron-Controller.html#t:Reducer">Reducer</a> k v b) (<a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> v (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) b)</dt><dd class="doc"><p>Either a reducer or a final value converter for a map-only
 MapReduce job.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:mrOptions" class="def">mrOptions</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b) <a href="Hadron-Controller.html#t:MROptions">MROptions</a> <a href="src/Hadron-Controller.html#mrOptions" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Mapper" class="def">Mapper</a> a k b = <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> a (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) (k, b) <a href="src/Hadron-Types.html#Mapper" class="link">Source</a></p><div class="doc"><p>A <code><a href="Hadron-Controller.html#t:Mapper">Mapper</a></code> parses and converts the unbounded incoming stream of
 input data into a stream of (key, value) pairs.</p><p>A mapper is responsible for signaling its own <a href="Nothing.html">Nothing</a> to signify
 it is done writing. Hadron will not automatically mark EOF on the
 OutputStream, which is basically <code>stdout</code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Reducer" class="def">Reducer</a> k a r = <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> (k, a) (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) r <a href="src/Hadron-Types.html#Reducer" class="link">Source</a></p><div class="doc"><p>A reducer takes an incoming stream of (key, value) pairs and
 emits zero or more output objects of type <code>r</code>.</p><p>Note that this framework guarantees your reducer function (i.e. the
 conduit you supply here) will see ONLY keys that are deemed
 <code>equivalent</code> based on the <code><a href="Hadron-Controller.html#t:MROptions">MROptions</a></code> you supply. Different keys
 will be given to individual and isolated invocations of your
 reducer function. This is a very central abstraction (and one of
 the few major ones) provided by this framework.</p><p>It does not matter if you supply your own EOF signals via Nothing
 as Hadron will simply discard them before relaying over to <code>stdout</code>
 and supply its own EOF based on when its input is finished.</p></div></div><div class="top"><p class="src"><a name="v:-62-.-62-" class="def">(&gt;.&gt;)</a> :: <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b -&gt; <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> b (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) c -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a c <a href="src/Hadron-Controller.html#%3E.%3E" class="link">Source</a></p><div class="doc"><p>Do something with m-r output before writing it to a tap.</p></div></div><div class="top"><p class="src"><a name="v:-60-.-60-" class="def">(&lt;.&lt;)</a> :: <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> c (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) a -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b -&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> c b <a href="src/Hadron-Controller.html#%3C.%3C" class="link">Source</a></p><div class="doc"><p>Do something with the m-r input before starting the map stage.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:MRKey" class="def">MRKey</a> k <span class="keyword">where</span> <a href="src/Hadron-Controller.html#MRKey" class="link">Source</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toCompKey" class="def">toCompKey</a> :: k -&gt; <a href="Hadron-Controller.html#t:CompositeKey">CompositeKey</a> <a href="src/Hadron-Controller.html#toCompKey" class="link">Source</a></p><p class="src"><a name="v:keyParser" class="def">keyParser</a> :: Parser k <a href="src/Hadron-Controller.html#keyParser" class="link">Source</a></p><p class="src"><a name="v:numKeys" class="def">numKeys</a> :: k -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a> <a href="src/Hadron-Controller.html#numKeys" class="link">Source</a></p></div><div class="subs instances"><p id="control.i:MRKey" class="caption collapser" onclick="toggleSection('i:MRKey')">Instances</p><div id="section.i:MRKey" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Hadron-Controller.html#t:MRKey">MRKey</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a></span> <a href="src/Hadron-Controller.html#line-235" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Hadron-Controller.html#t:MRKey">MRKey</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a></span> <a href="src/Hadron-Controller.html#line-225" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Hadron-Controller.html#t:MRKey">MRKey</a> ()</span> <a href="src/Hadron-Controller.html#line-210" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Hadron-Controller.html#t:MRKey">MRKey</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></span> <a href="src/Hadron-Controller.html#line-215" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Hadron-Controller.html#t:MRKey">MRKey</a> <a href="file:///nix/store/c32b3bb5cmm87bi95xcqbjb086lapc9a-text-1.2.1.3/share/doc/x86_64-osx-ghc-7.10.2/text-1.2.1.3/html/Data-Text.html#t:Text">Text</a></span> <a href="src/Hadron-Controller.html#line-230" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Hadron-Controller.html#t:MRKey">MRKey</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a></span> <a href="src/Hadron-Controller.html#line-258" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Hadron-Controller.html#t:MRKey">MRKey</a> <a href="Hadron-Controller.html#t:CompositeKey">CompositeKey</a></span> <a href="src/Hadron-Controller.html#line-220" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/776mpgvi7njswfa7gbcssw3ygjw09fr6-safecopy-0.8.6/share/doc/x86_64-osx-ghc-7.10.2/safecopy-0.8.6/html/Data-SafeCopy.html#t:SafeCopy">SafeCopy</a> a =&gt; <a href="Hadron-Controller.html#t:MRKey">MRKey</a> (<a href="Hadron-Controller.html#t:WrapSafeCopy">WrapSafeCopy</a> a)</span> <a href="src/Hadron-Controller.html#line-248" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Hadron-Controller.html#t:MRKey">MRKey</a> (<a href="Hadron-Controller.html#t:WrapSerialize">WrapSerialize</a> a)</span> <a href="src/Hadron-Controller.html#line-241" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Hadron-Controller.html#t:MRKey">MRKey</a> a, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> b) =&gt; <a href="Hadron-Controller.html#t:MRKey">MRKey</a> (a, b)</span> <a href="src/Hadron-Controller.html#line-265" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Hadron-Controller.html#t:MRKey">MRKey</a> a, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> b, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> c) =&gt; <a href="Hadron-Controller.html#t:MRKey">MRKey</a> (a, b, c)</span> <a href="src/Hadron-Controller.html#line-270" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Hadron-Controller.html#t:MRKey">MRKey</a> a, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> b, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> c, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> d) =&gt; <a href="Hadron-Controller.html#t:MRKey">MRKey</a> (a, b, c, d)</span> <a href="src/Hadron-Controller.html#line-275" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CompositeKey" class="def">CompositeKey</a> = [<a href="Hadron-Types.html#t:Key">Key</a>] <a href="src/Hadron-Types.html#CompositeKey" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:SingleKey" class="def">SingleKey</a> a <a href="src/Hadron-Controller.html#SingleKey" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SingleKey" class="def">SingleKey</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:unKey" class="def">unKey</a> :: a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:SingleKey" class="caption collapser" onclick="toggleSection('i:SingleKey')">Instances</p><div id="section.i:SingleKey" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Hadron-Controller.html#t:SingleKey">SingleKey</a> a)</span> <a href="src/Hadron-Controller.html#line-184" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Hadron-Controller.html#t:SingleKey">SingleKey</a> a)</span> <a href="src/Hadron-Controller.html#line-184" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> (<a href="Hadron-Controller.html#t:SingleKey">SingleKey</a> a)</span> <a href="src/Hadron-Controller.html#line-184" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> (<a href="Hadron-Controller.html#t:SingleKey">SingleKey</a> a)</span> <a href="src/Hadron-Controller.html#line-184" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> (<a href="Hadron-Controller.html#t:SingleKey">SingleKey</a> a)</span> <a href="src/Hadron-Controller.html#line-184" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:WrapSerialize" class="def">WrapSerialize</a> a <a href="src/Hadron-Controller.html#WrapSerialize" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:WrapSerialize" class="def">WrapSerialize</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_getSerialized" class="def">_getSerialized</a> :: a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:WrapSerialize" class="caption collapser" onclick="toggleSection('i:WrapSerialize')">Instances</p><div id="section.i:WrapSerialize" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Hadron-Controller.html#t:WrapSerialize">WrapSerialize</a> a)</span> <a href="src/Hadron-Controller.html#line-187" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Hadron-Controller.html#t:WrapSerialize">WrapSerialize</a> a)</span> <a href="src/Hadron-Controller.html#line-187" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> (<a href="Hadron-Controller.html#t:WrapSerialize">WrapSerialize</a> a)</span> <a href="src/Hadron-Controller.html#line-187" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> (<a href="Hadron-Controller.html#t:WrapSerialize">WrapSerialize</a> a)</span> <a href="src/Hadron-Controller.html#line-187" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> (<a href="Hadron-Controller.html#t:WrapSerialize">WrapSerialize</a> a)</span> <a href="src/Hadron-Controller.html#line-187" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Hadron-Controller.html#t:MRKey">MRKey</a> (<a href="Hadron-Controller.html#t:WrapSerialize">WrapSerialize</a> a)</span> <a href="src/Hadron-Controller.html#line-241" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:WrapSafeCopy" class="def">WrapSafeCopy</a> a <a href="src/Hadron-Controller.html#WrapSafeCopy" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:WrapSafeCopy" class="def">WrapSafeCopy</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_getSafeCopy" class="def">_getSafeCopy</a> :: a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:WrapSafeCopy" class="caption collapser" onclick="toggleSection('i:WrapSafeCopy')">Instances</p><div id="section.i:WrapSafeCopy" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Hadron-Controller.html#t:WrapSafeCopy">WrapSafeCopy</a> a)</span> <a href="src/Hadron-Controller.html#line-190" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Hadron-Controller.html#t:WrapSafeCopy">WrapSafeCopy</a> a)</span> <a href="src/Hadron-Controller.html#line-190" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> (<a href="Hadron-Controller.html#t:WrapSafeCopy">WrapSafeCopy</a> a)</span> <a href="src/Hadron-Controller.html#line-190" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> (<a href="Hadron-Controller.html#t:WrapSafeCopy">WrapSafeCopy</a> a)</span> <a href="src/Hadron-Controller.html#line-190" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/776mpgvi7njswfa7gbcssw3ygjw09fr6-safecopy-0.8.6/share/doc/x86_64-osx-ghc-7.10.2/safecopy-0.8.6/html/Data-SafeCopy.html#t:SafeCopy">SafeCopy</a> a0 =&gt; <a href="file:///nix/store/776mpgvi7njswfa7gbcssw3ygjw09fr6-safecopy-0.8.6/share/doc/x86_64-osx-ghc-7.10.2/safecopy-0.8.6/html/Data-SafeCopy.html#t:SafeCopy">SafeCopy</a> (<a href="Hadron-Controller.html#t:WrapSafeCopy">WrapSafeCopy</a> a)</span> <a href="src/Hadron-Controller.html#line-191" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/776mpgvi7njswfa7gbcssw3ygjw09fr6-safecopy-0.8.6/share/doc/x86_64-osx-ghc-7.10.2/safecopy-0.8.6/html/Data-SafeCopy.html#t:SafeCopy">SafeCopy</a> a =&gt; <a href="Hadron-Controller.html#t:MRKey">MRKey</a> (<a href="Hadron-Controller.html#t:WrapSafeCopy">WrapSafeCopy</a> a)</span> <a href="src/Hadron-Controller.html#line-248" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Data Sources</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Tap" class="def">Tap</a> a <a href="src/Hadron-Controller.html#Tap" class="link">Source</a></p><div class="doc"><p>Tap is a data source/sink definition that *knows* how to serve
 records of type <code>a</code>.</p><p>It comes with knowledge on how to decode ByteString to target type
 and can be used both as a sink (to save data form MR output) or
 source (to feed MR programs).</p><p>Usually, you just define the various data sources and destinations
 your MapReduce program is going to need:</p><pre>customers = 'tap' &quot;s3n://my-bucket/customers&quot; (csvProtocol def)</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Tap" class="def">Tap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_tapLocation" class="def">_tapLocation</a> :: [<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_tapProto" class="def">_tapProto</a> :: <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Tap" class="caption collapser" onclick="toggleSection('i:Tap')">Instances</p><div id="section.i:Tap" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> a)</span> <a href="src/Hadron-Controller.html#line-339" class="link">Source</a></td><td class="doc"><p>If two <code>location</code>s are the same, we consider two Taps equal.</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:tapProto" class="def">tapProto</a> :: <span class="keyword">forall</span> a a. <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens">Lens</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> a) (<a href="Hadron-Controller.html#t:Tap">Tap</a> a) (<a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a) (<a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a) <a href="src/Hadron-Controller.html#tapProto" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:tapLocation" class="def">tapLocation</a> :: <span class="keyword">forall</span> a. <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> a) [<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>] <a href="src/Hadron-Controller.html#tapLocation" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:tap" class="def">tap</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a <a href="src/Hadron-Controller.html#tap" class="link">Source</a></p><div class="doc"><p>Construct a <code>DataDef</code></p></div></div><div class="top"><p class="src"><a name="v:taps" class="def">taps</a> :: [<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>] -&gt; <a href="Hadron-Protocol.html#t:Protocol-39-">Protocol'</a> a -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a <a href="src/Hadron-Controller.html#taps" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mergeTaps" class="def">mergeTaps</a> :: <a href="Hadron-Controller.html#t:Tap">Tap</a> a -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> b -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> a b) <a href="src/Hadron-Controller.html#mergeTaps" class="link">Source</a></p><div class="doc"><p>Combine two taps intelligently into the Either sum type.</p><p>Matches on the prefix path given as part of each tap. It would
 therefore fail to work properly on self joins where the same data
 location is used in both taps.</p></div></div><div class="top"><p class="src"><a name="v:concatTaps" class="def">concatTaps</a> :: [<a href="Hadron-Controller.html#t:Tap">Tap</a> a] -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a <a href="src/Hadron-Controller.html#concatTaps" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:binaryDirTap" class="def">binaryDirTap</a> <a href="src/Hadron-Controller.html#binaryDirTap" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>A root location to list files under</p></td></tr><tr><td class="src">-&gt; (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>A filter condition to refine the listing</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Controller.html#t:Controller">Controller</a> (<a href="Hadron-Controller.html#t:Tap">Tap</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Creates a tap for a directory of binary files.</p></div></div><div class="top"><p class="src"><a name="v:setupBinaryDir" class="def">setupBinaryDir</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> (<a href="Hadron-Run-Local.html#t:LocalFile">LocalFile</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>) <a href="src/Hadron-Controller.html#setupBinaryDir" class="link">Source</a></p><div class="doc"><p>Grab list of files in destination, write into a file, put file on
 HDFS so it is shared and return the (local, hdfs) paths.</p></div></div><div class="top"><p class="src"><a name="v:fileListTap" class="def">fileListTap</a> <a href="src/Hadron-Controller.html#fileListTap" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hadron-Run.html#t:RunContext">RunContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>A file containing a list of files to be used as input</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Tap for handling file lists.  Hadoop can't process raw binary data
 because it splits on newlines.  This tap allows you to get around that
 limitation by instead making your input a list of file paths that contain
 binary data.  Then the file names get split by hadoop and each map job
 reads from those files as its first step.</p></div></div><div class="top"><p class="src"><a name="v:fanOutTap" class="def">fanOutTap</a> <a href="src/Hadron-Controller.html#fanOutTap" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hadron-Run.html#t:RunContext">RunContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>Static location where fanout statistics will be written via
 the regular hadoop output.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>A temporary location where in-progress files can be kept.</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>)</td><td class="doc"><p>Decision dispatch of where each object should go. Make sure
 to provide fully qualified hdfs directory paths; a unique token
 will be appended to each file based on the node producing it.</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> a (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>How to serialize each object. Make sure this conduit provides
 for all the typical requirements: One record per line, no
 newlines inside the record, etc.</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Run-FanOut.html#t:FanOutSink">FanOutSink</a></td><td class="doc"><p>How to sink the fanout, exposed here for flexibility.</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Sink objects into multiple output files through concurrent
 file-write processes behind the scenes. Work-around for Hadoop
 Streaming limitations in having to sink output into a single
 provided HDFS path.</p></div></div><div class="top"><p class="src"><a name="v:sinkFanOut" class="def">sinkFanOut</a> :: <a href="Hadron-Run-FanOut.html#t:FanOutSink">FanOutSink</a> <a href="src/Hadron-Run-FanOut.html#sinkFanOut" class="link">Source</a></p><div class="doc"><p>Sink a stream into <code><a href="Hadron-Run-FanOut.html#t:FanOut">FanOut</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:sequentialSinkFanout" class="def">sequentialSinkFanout</a> :: <a href="Hadron-Run-FanOut.html#t:FanOutSink">FanOutSink</a> <a href="src/Hadron-Run-FanOut.html#sequentialSinkFanout" class="link">Source</a></p><div class="doc"><p>A fanout that keeps only a single file open at a time. Each time
 the target filename changes, this will close/finalize the file and
 start the new file.</p></div></div><div class="top"><p class="src"><a name="v:readTap" class="def">readTap</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="Hadron-Controller.html#t:Tap">Tap</a> a -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> [a] <a href="src/Hadron-Controller.html#readTap" class="link">Source</a></p><div class="doc"><p>Given a tap directory, enumerate and load all files inside.
 Caution: This is meant only as a way to load small files, or else
 you'll fill up your memory.</p></div></div><div class="top"><p class="src"><a name="v:readHdfsFile" class="def">readHdfsFile</a> :: <a href="Hadron-Run.html#t:RunContext">RunContext</a> -&gt; <a href="file:///nix/store/w3w7ydji4pv4cpij051pzwh9cz8ha1k3-conduit-1.2.5.1/share/doc/x86_64-osx-ghc-7.10.2/conduit-1.2.5.1/html/Data-Conduit.html#t:Conduit">Conduit</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> (<a href="file:///nix/store/bfin8qs3msrfq9g159sr5vzlbg868qn9-resourcet-1.1.6/share/doc/x86_64-osx-ghc-7.10.2/resourcet-1.1.6/html/Control-Monad-Trans-Resource.html#t:ResourceT">ResourceT</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a>) (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a>, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a>) <a href="src/Hadron-Controller.html#readHdfsFile" class="link">Source</a></p><div class="doc"><p>Conduit that takes in hdfs filenames and outputs the file
 contents. Will unpack .gz files automatically.</p></div></div><h1 id="g:3">Command Line Entry Point</h1><div class="top"><p class="src"><a name="v:hadoopMain" class="def">hadoopMain</a> <a href="src/Hadron-Controller.html#hadoopMain" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/xvn9284xvfz90d1ak0g649hn8qs3wrhp-exceptions-0.8.0.2/share/doc/x86_64-osx-ghc-7.10.2/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadThrow">MonadThrow</a> m, <a href="file:///nix/store/xvn9284xvfz90d1ak0g649hn8qs3wrhp-exceptions-0.8.0.2/share/doc/x86_64-osx-ghc-7.10.2/exceptions-0.8.0.2/html/Control-Monad-Catch.html#t:MonadMask">MonadMask</a> m, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> m, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Control-Applicative.html#t:Applicative">Applicative</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [(AppLabel, <a href="Hadron-Controller.html#t:Controller">Controller</a> ())]</td><td class="doc"><p>Hadoop streaming applications that can be run. First element
 of tuple is used to lookup the right application to run from
 the command line.</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Run.html#t:RunContext">RunContext</a></td><td class="doc"><p>Hadoop environment info.</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Controller.html#t:RerunStrategy">RerunStrategy</a></td><td class="doc"><p>What to do if destination files already exist.</p></td></tr><tr><td class="src">-&gt; m ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The main entry point. Use this function to produce a command line
 program that encapsulates everything.</p><p>When run without arguments, the program will orchestrate the entire
 MapReduce job flow. The same program also doubles as the actual
 mapper/reducer executable when called with right arguments, though
 you don't have to worry about that.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:HadoopEnv" class="def">HadoopEnv</a> <a href="src/Hadron-Run-Hadoop.html#HadoopEnv" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:HadoopEnv" class="def">HadoopEnv</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_hsBin" class="def">_hsBin</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_hsJar" class="def">_hsJar</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:HadoopEnv" class="caption collapser" onclick="toggleSection('i:HadoopEnv')">Instances</p><div id="section.i:HadoopEnv" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/m91msq53k1mhgxmir4aa4wl9km58x6nj-data-default-0.5.3/share/doc/x86_64-osx-ghc-7.10.2/data-default-0.5.3/html/Data-Default.html#t:Default">Default</a> <a href="Hadron-Controller.html#t:HadoopEnv">HadoopEnv</a></span> <a href="src/Hadron-Run-Hadoop.html#line-124" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:4">Settings for MapReduce Jobs</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:MROptions" class="def">MROptions</a> <a href="src/Hadron-Types.html#MROptions" class="link">Source</a></p><div class="doc"><p>Options for a single-step MR job.</p></div><div class="subs instances"><p id="control.i:MROptions" class="caption collapser" onclick="toggleSection('i:MROptions')">Instances</p><div id="section.i:MROptions" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/m91msq53k1mhgxmir4aa4wl9km58x6nj-data-default-0.5.3/share/doc/x86_64-osx-ghc-7.10.2/data-default-0.5.3/html/Data-Default.html#t:Default">Default</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a></span> <a href="src/Hadron-Types.html#line-99" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:mroPart" class="def">mroPart</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> <a href="Hadron-Controller.html#t:PartitionStrategy">PartitionStrategy</a> <a href="src/Hadron-Types.html#mroPart" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mroNumMap" class="def">mroNumMap</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a>) <a href="src/Hadron-Types.html#mroNumMap" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mroNumReduce" class="def">mroNumReduce</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a>) <a href="src/Hadron-Types.html#mroNumReduce" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mroCompress" class="def">mroCompress</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-String.html#t:String">String</a>) <a href="src/Hadron-Types.html#mroCompress" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mroOutSep" class="def">mroOutSep</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Char.html#t:Char">Char</a>) <a href="src/Hadron-Types.html#mroOutSep" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mroTaskTimeout" class="def">mroTaskTimeout</a> :: <a href="file:///nix/store/m9j9pich10r7r5ijm85a5247zpjwpcr3-lens-4.12.3/share/doc/x86_64-osx-ghc-7.10.2/lens-4.12.3/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> <a href="Hadron-Controller.html#t:MROptions">MROptions</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a>) <a href="src/Hadron-Types.html#mroTaskTimeout" class="link">Source</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:PartitionStrategy" class="def">PartitionStrategy</a> <a href="src/Hadron-Run-Hadoop.html#PartitionStrategy" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NoPartition" class="def">NoPartition</a></td><td class="doc"><p>Expect a single key segment emitted from the <code>Mapper</code>.</p></td></tr><tr><td class="src"><a name="v:Partition" class="def">Partition</a></td><td class="doc"><p>Expect a composite key emitted from the <code>Mapper</code>.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:keySegs" class="def">keySegs</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>Total segments comprising a key.</p></dd><dt class="src"><a name="v:partSegs" class="def">partSegs</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>First N key segments used for partitioning. All keys that
 share these segments will be routed to the same reducer.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:PartitionStrategy" class="caption collapser" onclick="toggleSection('i:PartitionStrategy')">Instances</p><div id="section.i:PartitionStrategy" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/m91msq53k1mhgxmir4aa4wl9km58x6nj-data-default-0.5.3/share/doc/x86_64-osx-ghc-7.10.2/data-default-0.5.3/html/Data-Default.html#t:Default">Default</a> <a href="Hadron-Controller.html#t:PartitionStrategy">PartitionStrategy</a></span> <a href="src/Hadron-Run-Hadoop.html#line-141" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Comparator" class="def">Comparator</a> <a href="src/Hadron-Run-Hadoop.html#Comparator" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:RegularComp" class="def">RegularComp</a></td><td class="doc"><p>Regular sorting</p></td></tr><tr><td class="src"><a name="v:NumericComp" class="def">NumericComp</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Int.html#t:Int">Int</a> <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc"><p>Numeric sorting spanning fields i to j, True=reversed</p></td></tr></table></div><div class="subs instances"><p id="control.i:Comparator" class="caption collapser" onclick="toggleSection('i:Comparator')">Instances</p><div id="section.i:Comparator" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/m91msq53k1mhgxmir4aa4wl9km58x6nj-data-default-0.5.3/share/doc/x86_64-osx-ghc-7.10.2/data-default-0.5.3/html/Data-Default.html#t:Default">Default</a> <a href="Hadron-Controller.html#t:Comparator">Comparator</a></span> <a href="src/Hadron-Run-Hadoop.html#line-150" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:RerunStrategy" class="def">RerunStrategy</a> <a href="src/Hadron-Controller.html#RerunStrategy" class="link">Source</a></p><div class="doc"><p>What to do when we notice that a destination file already exists.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:RSFail" class="def">RSFail</a></td><td class="doc"><p>Fail and log the problem.</p></td></tr><tr><td class="src"><a name="v:RSReRun" class="def">RSReRun</a></td><td class="doc"><p>Delete the file and rerun the analysis</p></td></tr><tr><td class="src"><a name="v:RSSkip" class="def">RSSkip</a></td><td class="doc"><p>Consider the analaysis already done and skip.</p></td></tr></table></div><div class="subs instances"><p id="control.i:RerunStrategy" class="caption collapser" onclick="toggleSection('i:RerunStrategy')">Instances</p><div id="section.i:RerunStrategy" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> <a href="Hadron-Controller.html#t:RerunStrategy">RerunStrategy</a></span> <a href="src/Hadron-Controller.html#line-915" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> <a href="Hadron-Controller.html#t:RerunStrategy">RerunStrategy</a></span> <a href="src/Hadron-Controller.html#line-915" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> <a href="Hadron-Controller.html#t:RerunStrategy">RerunStrategy</a></span> <a href="src/Hadron-Controller.html#line-915" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> <a href="Hadron-Controller.html#t:RerunStrategy">RerunStrategy</a></span> <a href="src/Hadron-Controller.html#line-915" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/m91msq53k1mhgxmir4aa4wl9km58x6nj-data-default-0.5.3/share/doc/x86_64-osx-ghc-7.10.2/data-default-0.5.3/html/Data-Default.html#t:Default">Default</a> <a href="Hadron-Controller.html#t:RerunStrategy">RerunStrategy</a></span> <a href="src/Hadron-Controller.html#line-917" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:5">Hadoop Utilities</h1><div class="top"><p class="src"><a name="v:emitCounter" class="def">emitCounter</a> <a href="src/Hadron-Basic.html#emitCounter" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Group name</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Counter name</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Prelude.html#t:Integer">Integer</a></td><td class="doc"><p>Increment</p></td></tr><tr><td class="src">-&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Emit a counter to be captured, added up and reported by Hadoop.</p></div></div><div class="top"><p class="src"><a name="v:hsEmitCounter" class="def">hsEmitCounter</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Prelude.html#t:Integer">Integer</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Hadron-Basic.html#hsEmitCounter" class="link">Source</a></p><div class="doc"><p>Emit counter from this library's group</p></div></div><div class="top"><p class="src"><a name="v:emitStatus" class="def">emitStatus</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:IO">IO</a> () <a href="src/Hadron-Basic.html#emitStatus" class="link">Source</a></p><div class="doc"><p>Emit a status line.</p></div></div><div class="top"><p class="src"><a name="v:getFileName" class="def">getFileName</a> :: <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/transformers-0.4.2.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/System-IO.html#t:FilePath">FilePath</a> <a href="src/Hadron-Basic.html#getFileName" class="link">Source</a></p><div class="doc"><p>Get the current filename from Hadoop ENV. Useful when writing
 <code><a href="Hadron-Controller.html#t:Mapper">Mapper</a></code>s and you would like to know what file you're currently
 dealing with.</p></div></div><h1 id="g:6">MapReduce Combinators</h1><div class="top"><p class="src"><a name="v:mapReduce" class="def">mapReduce</a> :: t <a href="src/Hadron-Controller.html#mapReduce" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:firstBy" class="def">firstBy</a> :: t <a href="src/Hadron-Controller.html#firstBy" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mapMR" class="def">mapMR</a> :: t <a href="src/Hadron-Controller.html#mapMR" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:oneSnap" class="def">oneSnap</a> :: t <a href="src/Hadron-Controller.html#oneSnap" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:joinMR" class="def">joinMR</a> <a href="src/Hadron-Controller.html#joinMR" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Hadron-Controller.html#t:MRKey">MRKey</a> k, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a> v, <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Hadron-Controller.html#t:Mapper">Mapper</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> a b) k (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> v v)</td><td class="doc"><p>Mapper for the input</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#t:Either">Either</a> a b) v</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Monoidal inner (map-side) join for two types. Each type is mapped
 into the common monoid, which is then collapsed during reduce.</p><p>Make sure an incoming <code><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#v:Left">Left</a></code> stays <code><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#v:Left">Left</a></code> and a <code><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#v:Right">Right</a></code> stays a
 <code><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Either.html#v:Right">Right</a></code>.</p><p>TODO: Wrap around this with a better API so the user doesn't have
 to care.</p></div></div><div class="top"><p class="src"><a name="v:joinStep" class="def">joinStep</a> <a href="src/Hadron-Controller.html#joinStep" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> b, <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a> b, <a href="file:///nix/store/fvc41b1jd9dj4m706ck4pnwfbg7m1z0b-cereal-0.4.1.1/share/doc/x86_64-osx-ghc-7.10.2/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b, <a href="Hadron-Controller.html#t:MRKey">MRKey</a> k)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [(<a href="Hadron-Controller.html#t:Tap">Tap</a> a, <a href="Hadron-Controller.html#t:JoinType">JoinType</a>, <a href="Hadron-Controller.html#t:Mapper">Mapper</a> a k b)]</td><td class="doc"><p>Dataset definitions and how to map each dataset.</p></td></tr><tr><td class="src">-&gt; <a href="Hadron-Controller.html#t:MapReduce">MapReduce</a> a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A convenient way to express map-sde multi-way join operations
 into a single data type. All you need to supply is the map
 operation for each tap, the reduce step is assumed to be the
 Monoidal <code><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Monoid.html#v:mconcat">mconcat</a></code>.</p><p><code><a href="Hadron-Controller.html#v:joinMR">joinMR</a></code> is probably easier to use if you can get by with an inner
 join.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:JoinType" class="def">JoinType</a> <a href="src/Hadron-Join.html#JoinType" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:JRequired" class="def">JRequired</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:JOptional" class="def">JOptional</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:JoinType" class="caption collapser" onclick="toggleSection('i:JoinType')">Instances</p><div id="section.i:JoinType" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> <a href="Hadron-Controller.html#t:JoinType">JoinType</a></span> <a href="src/Hadron-Join.html#line-49" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> <a href="Hadron-Controller.html#t:JoinType">JoinType</a></span> <a href="src/Hadron-Join.html#line-49" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Read.html#t:Read">Read</a> <a href="Hadron-Controller.html#t:JoinType">JoinType</a></span> <a href="src/Hadron-Join.html#line-49" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/base-4.8.1.0/Text-Show.html#t:Show">Show</a> <a href="Hadron-Controller.html#t:JoinType">JoinType</a></span> <a href="src/Hadron-Join.html#line-49" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:JoinKey" class="def">JoinKey</a> = <a href="file:///nix/store/cyf4zmj6lx6rwqcxw5919md3mbmhafps-ghc-7.10.2/share/doc/ghc/html/libraries/bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Hadron-Join.html#JoinKey" class="link">Source</a></p></div><h1 id="g:7">Data Serialization Utilities</h1><div class="top"><p class="src">module <a href="Hadron-Protocol.html">Hadron.Protocol</a></p></div><div class="top"><p class="src">module <a href="Hadron-Run.html">Hadron.Run</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>